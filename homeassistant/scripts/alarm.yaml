notify_on_motion:
  alias: Notify on motion
  sequence:
  - alias: Send push notification
    service: notify.html5
    data_template:
        title: Motion detected and alarm is armed
        message: "{{ trigger }} has triggered the alarm. The siren will sound unless you disarm"
        data:
          url: "{{ image or 'https://williamson-ave.duckdns.org' }}"
          image: "{{ image or null }}"
          tag: ha-alarm
          requireInteraction: "true"
          actions: 
          - title: Disarm   
            action: disarm_alarm
          - title: Sound siren
            action: sound_siren

panic_button:
  alias: Panic button
  sequence:
    - alias: Send push notification
      service: notify.html5
      data_template:
        title: Panic button activated
        message: The Panic button has been pressed and the siren has been turned on
        data:
          url: https://williamson-ave.duckdns.org
          tag: ha-alarm
          renotify: "true"
          actions:
          - title: Silence siren
            action: silence_siren
    - alias: Activate siren
      service: switch.turn_on
      data:
        entity_id: switch.siren
    - alias: Trigger alarm
      service: alarm_control_panel.alarm_trigger
      entity_id: alarm_control_panel.alarm